<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Limestone | Bookshelf</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/bookshelf.css') }}">
</head>
<body>
  <div class="container">
    <!-- Sidebar -->
    <aside class="sidebar">
      <img class="logo" src="{{ url_for('static', filename='img/logo_2.png') }}" alt="Limestone" />

      <div class="book-count">{{ book_count or 0 }} Books In Use</div>

      <!-- Filters (native selects with custom arrow) -->
      <div class="filters">
        <!-- Author -->
        <div class="filter-block">
          <span class="filter-title">Author</span>
          <div class="select-wrapper">
            <select id="authorSelect" name="author">
              <option value="" {% if not selected_author %}selected{% endif %} disabled>Select</option>
              {% for a in (authors or []) %}
                <option value="{{ a }}" {% if selected_author == a %}selected{% endif %}>{{ a }}</option>
              {% endfor %}
              {% if not authors %}
                <option value="" disabled>No authors yet</option>
              {% endif %}
            </select>
          </div>
        </div>

        <!-- Genre -->
        <div class="filter-block">
          <span class="filter-title">Genre</span>
          <div class="select-wrapper">
            <select id="genreSelect" name="genre">
              <option value="" {% if not selected_genre %}selected{% endif %} disabled>Select</option>
              {% for g in (genres or []) %}
                <option value="{{ g }}" {% if selected_genre == g %}selected{% endif %}>{{ g }}</option>
              {% endfor %}
              {% if not genres %}
                <option value="" disabled>No genres yet</option>
              {% endif %}
            </select>
          </div>
        </div>

        <!-- Tags (now a real select too) -->
        <div class="filter-block">
          <span class="filter-title">Tags</span>
          <div class="select-wrapper">
            <select id="tagsSelect" name="tag">
              {% if tags %}
                <option value="" selected disabled>Select</option>
                {% for t in tags %}
                  <option value="{{ t }}">{{ t }}</option>
                {% endfor %}
              {% else %}
                <option value="" selected disabled>No tags yet</option>
              {% endif %}
            </select>
          </div>
        </div>
      </div>
    </aside>

    <!-- Main content -->
    <main class="main-content">
      <div class="top-buttons">
        <button title="Logout">
          <img src="{{ url_for('static', filename='img/logout.png') }}" alt="Logout">
        </button>
        <button title="Search">
          <img src="{{ url_for('static', filename='img/search.png') }}" alt="Search">
        </button>
        <button title="Add">
          <img src="{{ url_for('static', filename='img/add.png') }}" alt="Add">
        </button>
      </div>

      <div class="book-grid">
        <!-- empty grid until books are added -->
      </div>
    </main>
  </div>
</body>
</html>
